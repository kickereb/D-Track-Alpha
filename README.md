# D-Track-Alpha
Mobile and Wireless Systems D-Track Alpha

- Tom Zhu			a1770422
- Lennox Avdiu		a1774765
- Evam Kaushik		a1909167

## First steps
Please run `./setup_pi_camera.sh` on a fresh raspberry pi to properly setup the pi cameras. This will reboot the pis on completetion.

Here's a README file for a GitHub repository based on this project:

---


This project implements a multi-frame trajectory tracking system for visual objects detected in consecutive frames. The system processes multiple JSON files in a specified folder, where each file represents a frame. The tracking is done without unique identifiers, relying on spatial proximity between identified targets in consecutive frames. Later on, a kinematic based tagging algorithm is also implemented.
Running on muultiple edge devices, D-Track can successfully identify and track multiple objectives across a non-overlapping field of view (FOV).

## Features

- **Trajectory Tracking Across Multiple Frames**: Tracks objects across consecutive frames using nearest neighbor matching.
- **Trajectory Visualization**: Generates a visual plot displaying trajectories of detected objects across frames.

## Getting Started

### Prerequisites

Ensure you have the following packages installed:

- `matplotlib`
- `numpy`
- `scipy`
- `natsort`

Install packages with:

```bash
pip install matplotlib numpy scipy natsort
```

### Folder Structure

Organize your JSON files in a folder. Each JSON file should contain data in the following structure:

```json
[
    {
        "views": [
            {"xmax": ..., "xmin": ..., "ymax": ..., "ymin": ...},
            ...
        ]
    },
    ...
]
```

Each `views` entry represents a detected object’s bounding box in that frame.

### Usage

1. Clone the repository:

   ```bash
   git clone https://github.com/your-username/multi-frame-trajectory-tracking.git
   cd multi-frame-trajectory-tracking
   ```

2. Set the `folder_path` variable in `tracking_script.py` to the path of your JSON folder.

3. Set the `num_frames_to_analyze` variable to the desired number of frames to analyze. For example:

   ```python
   folder_path = 'path_to_folder_containing_json_files'
   num_frames_to_analyze = 5
   ```

4. Run the script to generate a trajectory plot:

   ```bash
   python tracking_script.py
   ```

## Code Overview

- **calculate_lower_midpoint(view)**: Calculates the midpoint of the lower row of the bounding box for each detected object.
- **get_positions_from_frame(file_path)**: Extracts the average midpoint for each object in a frame.
- **plot_trajectories_from_folder(folder_path, num_frames_to_analyze)**: Tracks and visualizes object trajectories across consecutive frames.

## Example

Here’s an example plot generated by the script, showing the movement of objects across frames with color-coded trajectories:

![Trajectory Plot](example_plot.png)

## Contributing

1. Fork the repository.
2. Create a feature branch (`git checkout -b feature-name`).
3. Commit your changes (`git commit -m 'Add feature'`).
4. Push to the branch (`git push origin feature-name`).
5. Create a new Pull Request.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

---

Let me know if you need any additional sections!
